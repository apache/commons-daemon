<?xml version="1.0" encoding="UTF-8"?>
<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements. See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License. You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<!--
  This file is used by the maven-changes-plugin to generate the release notes.
  Useful ways of finding items to add to this file are:

  1. Add items when you fix a bug or add a feature (this makes the
  release process easy :-).

  2. Do a JIRA search for tickets closed since the previous release.

  3. Use the report generated by the maven-changelog-plugin to see all
  SVN commits. Set the project.properties' maven.changelog.range
  property to the number of days since the last release.


  The <action> type attribute can be add,update,fix,remove.
-->

<document>
  <properties>
    <title>Release Notes</title>
  </properties>
  <body>
    <release version="1.1.1" date="TBD" description="Bug fix release">
      <action type="fix" dev="markt" due-to="mturk" >
        Add to OPT_LFLAGS rather than overwrite OPT_LFLAGS when setting /OPT:REF
        in the make file for Windows.
      </action>
      <action type="fix" dev="markt" due-to="mturk" >
        Only set the global shutdown event if the event is created.
      </action>
      <action issue="DAEMON-379" type="fix" dev="sebb">
        Unable to build with Java 9 using ant; dropped Ant build files
      </action>
      <action issue="DAEMON-384" type="fix" dev="ggregory" due-to="blassmegod">
        prunsrv stopping with error due to hardcoded timeout.
      </action>
      <action issue="DAEMON-393" type="fix" dev="ggregory" due-to="Daniel Hofmann">
        Revered code comments for JRE and JDK locations in the registry.
      </action>
      <action issue="DAEMON-392" type="fix" dev="ggregory" due-to="Daniel Hofmann">
        Undefined behaviour in registry.c dwRegKey = dwRegKey++
      </action>
      <action issue="DAEMON-399" type="fix" dev="spjoe" due-to="Camillo Dell'mour">
        apxStrUnQuoteInplaceA removes needed quotes.
      </action>
    </release>
    <release version="1.1.0" date="2017-11-15" description="Feature and bug fix release">
      <action issue="DAEMON-368" type="add" dev="ggregory">
        Add DEBUG and ERROR logging to help diagnose problems when starting a Windows Service.
      </action>
      <action issue="DAEMON-371" type="update" dev="ggregory">
        Update the minimum Java requirement from version 5 to 6.
      </action>
      <action type="update" dev="markt">
        Increase minimum Java version to Java 5.
      </action>
      <action issue="DAEMON-347" type="update" dev="ggregory" due-to="Ganesh Raju">
        Add AArch64 support to src/native/unix/support/apsupport.m4
      </action>
      <action issue="DAEMON-346" type="fix" dev="markt">
        Compile the Windows binaries with the /DYNAMICBASE and /NXCOMPAT
        switches.
      </action>
      <action issue="DAEMON-333" type="fix" dev="markt">
        Remove calls to explicit garbage collection during daemon start and
        stop.
      </action>
      <action issue="DAEMON-343" type="fix" dev="markt">
        Update config.guess and config.sub to add support, amongst others, for
        the 64-bit PowerPC Little-Endian architecture. 
      </action>
      <action issue="DAEMON-332" type="fix" dev="markt">
        Ensure that the PID file on Windows, if used, is readable by other
        processes.
      </action>
      <action type="update" dev="markt">
        Update Commons-Parent to version 41.
      </action>
      <action issue="DAEMON-358" type="fix" dev="markt" due-to="Gustavo Romero">
        Update apsupport.m4 add support for 64-bit PowerPC architectures.
      </action>
      <action issue="DAEMON-282" type="fix" dev="markt">
        Suppress spurious &quot;The data area passed to a system call is too
        small&quot; error message in the log when procrun fails to stop the
        service.
      </action>
      <action issue="DAEMON-370" type="update" dev="ggregory" due-to="Amey Jadiye">
      	Move attributions from @author in Javadocs to POM.
      </action>
      <action issue="DAEMON-373" type="fix" dev="markt">
        Enable jsvc to start when running on Java 9.
      </action>
      <action issue="DAEMON-324" type="fix" dev="markt">
        Fix a resource leak opening the JVM configuration file.
      </action>
      <action issue="DAEMON-339" type="fix" dev="markt" due-to="John Wehle">
        Improve the jsvc code that restarts the process if the JVM crashes so
        that if the JVM crashes after a signal has been received to shut down
        jsvc does not attempt to restart the JVM.
      </action>
      <action issue="DAEMON-318" type="fix" dev="markt" due-to="Markus Schneider">
        Ensure that the child process is started with the correct umask. 
      </action>
      <action issue="DAEMON-309" type="fix" dev="markt">
        Correct conflicting information for the behaviour of procrun when using
        jvm mode.
      </action>
      <action issue="DAEMON-372" type="fix" dev="markt" due-to="SÃ©rgio Ozaki">
        Ensure that, when using procrun in java or exe mode, the service process
        waits for the stop process to complete before starting clean-up to avoid
        a crash in the stop process. 
      </action>
      <action issue="DAEMON-310" type="fix" dev="markt" due-to="John Wehle">
        Enable jsvc to find the jvm when running on AIX.
      </action>
      <action issue="DAEMON-302" type="fix" dev="markt">
        Ensure that procun treats JVM crashes as service failures so the
        recovery options will apply.
      </action>
      <action issue="DAEMON-312" type="fix" dev="markt">
        Ensure that the //MQ command closes the prunmgr process even if the 
        configuration dialog is open when the //MQ command is used.
      </action>
      <action issue="DAEMON-311" type="fix" dev="markt">
        When looking in the Windows registry for JRE and JDK installation
        locations, additionally check the registry keys used by IBM provided
        JREs and JDKs. Do this after checking the keys used by Oracle provided
        JREs and JDKs.
      </action>
      <action issue="DAEMON-376" type="fix" dev="markt">
        When looking in the Windows registry for JRE and JDK installation
        locations, additionally check the registry keys used by Oracle provided
        Java 9 and later JREs and JDKs. Do this after checking the keys used by
        Oracle provided Java 8 and earlier JREs and JDKs.
      </action>
      <action issue="DAEMON-374" type="fix" dev="markt" due-to="Rashmi Ranjan Mohanty">
        Add support for Java 9 commoand line arguments to jsvc.
      </action>
      <action issue="DAEMON-334" type="add" dev="markt" due-to="Brett Delle Grazie">
        Add a restarts options to jsvc to control the number of permitted
        restarts after a system crash.
      </action>
      <action type="remove" dev="markt">
        Remove support for building Procrun for the Itanium platform.
      </action>
      <action type="update" dev="markt">
        Make Windows XP the minimum support target platform.
      </action>
      <action type="add" dev="markt">
        Add support to Procrun for separate JVM options for use when running on
        Java 9 and above. 
      </action>
      <action issue="DAEMON-377" type="fix" dev="markt" due-to="Rustam Abdullaev">
        Fix race conditions in PID file handling in jsvc.
      </action> 
    </release>
  </body>
</document>
